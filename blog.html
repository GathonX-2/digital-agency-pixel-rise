<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Favicon -->
    <link rel="icon" href="assets/images/android-chrome-512x512.png" type="image/x-icon" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Blog | Agence Digitale</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="assets/bootstrap-5.3.3-dist/css/bootstrap.min.css"
    />
    <!-- Fontawesome CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Votre fichier CSS personnalis√© -->
    <link rel="stylesheet" href="assets/css/stylesblog.css" />
    <link rel="stylesheet" href="assets/css/design.css" />
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="bg-white border-bottom">
      <nav class="navbar navbar-expand-lg navbar-light container">
        <!-- Logo -->
        <a class="navbar-brand d-flex align-items-center" href="#">
          <img
            src="assets/images/logo.png"
            alt="Logo"
            width="200"
            height="40"
            class="me-2 ms-2"
          />
        </a>

        <!-- Bouton pour le menu mobile -->
        <button
          class="navbar-toggler me-2"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Menu -->
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item mx-2">
              <a class="nav-link " href="index.html">Accueil</a>
            </li>
            <li class="nav-item mx-2">
              <a class="nav-link" href="apropos.html">A propos</a>
            </li>
            <li class="nav-item mx-2">
              <a class="nav-link" href="services.html">Services</a>
            </li>
            <li class="nav-item mx-2">
              <a class="nav-link active" href="blog.html">Blog</a>
            </li>
            <li class="nav-item mx-2">
              <a class="nav-link" href="contact.html">Contact</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Bloc 1 -->
    <section style="background: url('assets/images/laptop.jpg') no-repeat center/cover;">
        <div class="row m-0 p-0 py-5 justify-content-center align-items-center about-section" >
            <div class="col-lg-8 text-center text-white">
                
                <!-- Texte Titre -->
                <h2 class="fw-bold">Blog</h2>
                
                <!-- Breadcrumb -->
                <p class="mt-3">
                    <a href="index.html" class="text-white-50 text-decoration-none">Accueil</a>
                    <span class="text-white-50 mx-2">|</span>
                    <span class="text-white fw-bold">Blog</span>
                </p>
            </div>
        </div>           
    </section>

    <!-- Bloc 2 -->
    <section>
        <div class="container">
            <div class="row py-5 blog-section-custom">
                <!-- Colonne lat√©rale -->
                <div class="col-lg-4">
                    <!-- Recherche -->
                    <div class="mb-4 p-3 blog-search-custom bg-white shadow-sm rounded">
                        <h5 class="fw-bold mb-3 text-danger">Recherche</h5>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Entrez un mot-cl√©...">
                            <button class="btn btn-danger" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    <!-- Cat√©gories -->
                    <div class="mb-4 p-3 blog-category-custom bg-white shadow-sm rounded">
                        <h5 class="fw-bold mb-3 text-danger">Cat√©gories</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Services (123)</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Logiciels SaaS (123)</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Technologie (123)</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">Planification (123)</a></li>
                            <li class="mb-2"><a href="#" class="text-muted text-decoration-none">D√©veloppement (123)</a></li>
                        </ul>
                    </div>
                    <!-- Poppular -->
                    <div class="popular-news-section bg-white shadow-sm rounded p-3">
                        <h5 class="fw-bold text-danger mb-4">Actualit√©s Populaires</h5>
                        <div class="popular-news-item d-flex align-items-start mb-3">
                            <img src="assets/images/popular.png" alt="Strat√©gie marketing" class="img-fluid rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="fw-bold mb-1" style="font-size: 0.9rem;">La Meilleure Strat√©gie Marketing</h6>
                                <p class="text-muted small mb-0">16 Mai 2022</p>
                            </div>
                        </div>
                        <div class="popular-news-item d-flex align-items-start mb-3">
                            <img src="assets/images/popular.png" alt="Changements marketing" class="img-fluid rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="fw-bold mb-1" style="font-size: 0.9rem;">Les Changements Majeurs en Marketing</h6>
                                <p class="text-muted small mb-0">16 Mai 2022</p>
                            </div>
                        </div>
                        <div class="popular-news-item d-flex align-items-start mb-3">
                            <img src="assets/images/popular.png" alt="Article exemple" class="img-fluid rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="fw-bold mb-1" style="font-size: 0.9rem;">Curabitur Ullamcorper Ultricies Nisi</h6>
                                <p class="text-muted small mb-0">16 Mai 2022</p>
                            </div>
                        </div>
                        <div class="popular-news-item d-flex align-items-start mb-3">
                            <img src="assets/images/popular.png" alt="Article exemple" class="img-fluid rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="fw-bold mb-1" style="font-size: 0.9rem;">Curabitur Ullamcorper Ultricies Nisi</h6>
                                <p class="text-muted small mb-0">16 Mai 2022</p>
                            </div>
                        </div>
                        <div class="popular-news-item d-flex align-items-start mb-3">
                            <img src="assets/images/popular.png" alt="Article exemple" class="img-fluid rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                            <div>
                                <h6 class="fw-bold mb-1" style="font-size: 0.9rem;">Curabitur Ullamcorper Ultricies Nisi</h6>
                                <p class="text-muted small mb-0">16 Mai 2022</p>
                            </div>
                        </div>
                    </div>                    
                </div>
                <!-- Colonne principale -->
                <div class="col-lg-8">
                    <div class="row">
            
         
         
         <script>
(function() {
  // ‚úÖ Configuration inject√©e depuis le serveur - ENVIRONNEMENT FIX√â
  const clientId = '4';
  const EMBED_CONFIG = {"baseUrl":"https://app.pixel-rise.com","apiUrl":"https://app.pixel-rise.com/api","articleBaseUrl":"https://app.pixel-rise.com/blog","environment":"production","apiEndpoints":{"contact":"https://app.pixel-rise.com/api/embed/contact","reservation":"https://app.pixel-rise.com/api/embed/reservation"}};
  
  // ‚úÖ ENVIRONNEMENT FIX√â : Utilise la configuration inject√©e depuis le serveur
  function detectEnvironment() {
    // ‚úÖ PRIORIT√â 1 : Configuration inject√©e depuis le serveur (plus fiable)
    if (typeof EMBED_CONFIG !== 'undefined') {
      console.log('‚úÖ Configuration serveur utilis√©e:', EMBED_CONFIG.environment);
      return {
        baseUrl: EMBED_CONFIG.baseUrl,
        apiUrl: EMBED_CONFIG.apiUrl,
        articleBaseUrl: EMBED_CONFIG.articleBaseUrl,
        env: EMBED_CONFIG.environment
      };
    }
    
    // ‚úÖ FALLBACK : D√©tection manuelle (pour r√©trocompatibilit√©)
    console.log('‚ö†Ô∏è Utilisation de la d√©tection fallback');
    const hostname = window.location.hostname;
    const protocol = window.location.protocol;

    console.log('üìç Hostname du client:', hostname);
    console.log('üìç Protocol du client:', protocol);

    // SEULS CAS LOCALHOST : Tests de d√©veloppement local avec ports sp√©cifiques
    const isLocalDevelopment = (
      (hostname === 'localhost' || hostname === '127.0.0.1') &&
      (window.location.port === '8080' || window.location.port === '3000' || window.location.port === '5173')
    ) || protocol === 'file:';

    if (isLocalDevelopment) {
      console.log('üè† Fallback: LOCAL (d√©veloppement)');
      return {
        baseUrl: 'http://localhost:8000',
        apiUrl: 'http://localhost:8000/api',
        articleBaseUrl: 'http://localhost:8000/blog', // ‚úÖ CORRIG√â : /blog au lieu de /article
        env: 'local'
      };
    }

    // ‚úÖ NOUVEAU : D√©tection serveur DEV (dev.pixel-rise.com)
    // Note: Le code embed d√©tecte o√π il tourne (site client), donc on force toujours PRODUCTION
    // La configuration serveur inject√©e (EMBED_CONFIG) g√®re automatiquement DEV vs PROD

    // ‚úÖ PRODUCTION PAR D√âFAUT pour tous les autres cas
    console.log('üöÄ Fallback: PRODUCTION (app.pixel-rise.com)');
    return {
      baseUrl: 'https://app.pixel-rise.com',
      apiUrl: 'https://app.pixel-rise.com/api',
      articleBaseUrl: 'https://app.pixel-rise.com/blog', // ‚úÖ CORRIG√â : /blog au lieu de /article
      env: 'production'
    };
  }
  
  const config = detectEnvironment();
  const apiUrl = config.apiUrl;
  const articleBaseUrl = config.articleBaseUrl;
  
  console.log('üîó Pixel Rise Embed - Environnement d√©tect√©:', config.env);
  console.log('üîó API URL:', apiUrl);
  
  const icons = {
    eye: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>',
    heart: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>',
    heartFilled: '<svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>',
    message: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>',
    share: '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>'
  };
  
  // ‚úÖ PAGINATION : Variables globales
  let currentPage = 1;
  let lastPage = 1;
  let isLoading = false;
  const perPage = 6;

  const container = document.getElementById('pixel-rise-blog-container') || document.createElement('div');
  container.id = 'pixel-rise-blog-container';
  
  // ‚úÖ Container principal avec zone pour pagination
  container.style.cssText = 'max-width: 1200px; margin: 0 auto; padding: 20px;';
  
  // ‚úÖ Zones distinctes pour articles et pagination
  const articlesGrid = document.createElement('div');
  articlesGrid.id = 'pixel-rise-articles-grid';
  articlesGrid.style.cssText = 'display: grid; grid-template-columns: repeat(auto-fill, 350px); gap: 24px; justify-content: center; margin-bottom: 32px;';
  
  const paginationContainer = document.createElement('div');
  paginationContainer.id = 'pixel-rise-pagination';
  paginationContainer.style.cssText = 'display: flex; justify-content: center; align-items: center; gap: 12px; padding: 20px 0; border-top: 1px solid #e2e8f0; margin-top: 24px;';
  
  let interactionCooldowns = {};
  const COOLDOWN_MS = 2000;
  
  function getEmbedToken() {
    return btoa(clientId + ':' + Date.now()).substr(0, 32);
  }
  
  async function callPixelRiseAPI(endpoint, method = 'GET', data = null) {
    try {
      const options = {
        method: method,
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
          'X-Embed-Token': getEmbedToken(),
          'X-Client-ID': clientId
        },
        credentials: 'omit'
      };
      
      if (data && method !== 'GET') {
        options.body = JSON.stringify(data);
      }
      
      const response = await fetch(apiUrl + endpoint, options);
      
      if (!response.ok) {
        throw new Error('Erreur API: ' + response.status);
      }
      
      return await response.json();
      
    } catch (error) {
      console.warn('‚ö†Ô∏è Pixel Rise API:', error);
      throw error;
    }
  }
  
  function redirectToArticle(slug) {
    const articleUrl = articleBaseUrl + '/' + slug;
    window.location.href = articleUrl;
  }
  
  async function handleRealInteraction(articleId, type, btn, counter) {
    const now = Date.now();
    const cooldownKey = type + '_' + articleId;
    
    if (interactionCooldowns[cooldownKey] && (now - interactionCooldowns[cooldownKey]) < COOLDOWN_MS) {
      console.log('üõ°Ô∏è Rate limit: Interaction trop rapide');
      return;
    }
    
    interactionCooldowns[cooldownKey] = now;
    
    try {
      btn.style.opacity = '0.6';
      btn.disabled = true;
      
      if (type === 'like') {
        const result = await callPixelRiseAPI('/interactions/embed/like', 'POST', {
          post_type: 'blog',
          post_id: articleId
        });
        counter.textContent = result.data.new_count;

        // Animation de feedback
        if (result.data.action === 'added') {
          btn.innerHTML = icons.heartFilled;
          btn.style.color = '#ef4444';
          btn.setAttribute('data-liked', 'true');

          // Animation d'√©chelle pour feedback visuel
          btn.style.transform = 'scale(1.3)';
          setTimeout(() => {
            btn.style.transform = 'scale(1)';
          }, 200);

          showToast('‚ù§Ô∏è Article ajout√© aux favoris !', 'success');
        } else {
          btn.innerHTML = icons.heart;
          btn.style.color = '#64748b';
          btn.removeAttribute('data-liked');

          showToast('üíî Like retir√©', 'success');
        }
      } else if (type === 'share') {
        const result = await callPixelRiseAPI('/interactions/embed/share', 'POST', {
          post_type: 'blog',
          post_id: articleId
        });
        counter.textContent = result.data.shares;

        const articleUrl = articleBaseUrl + '/' + btn.closest('article').querySelector('h3').textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
        if (navigator.share) {
          try {
            await navigator.share({
              title: btn.closest('article').querySelector('h3').textContent,
              url: articleUrl
            });
            showToast('üîó Article partag√© avec succ√®s !', 'success');
          } catch (err) {
            if (err.name !== 'AbortError') {
              console.warn('Partage annul√©:', err);
            }
          }
        } else if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(articleUrl);

          const originalText = btn.innerHTML;
          btn.innerHTML = '<span style="font-size: 10px;">‚úì</span>';
          btn.style.backgroundColor = '#22c55e';
          btn.style.color = 'white';

          setTimeout(() => {
            btn.innerHTML = originalText;
            btn.style.backgroundColor = 'transparent';
            btn.style.color = '#64748b';
          }, 1500);

          showToast('üìã Lien copi√© dans le presse-papier !', 'success');
        } else {
          // Fallback : cr√©er un textarea temporaire pour copier
          const textarea = document.createElement('textarea');
          textarea.value = articleUrl;
          textarea.style.position = 'fixed';
          textarea.style.opacity = '0';
          document.body.appendChild(textarea);
          textarea.select();
          try {
            document.execCommand('copy');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<span style="font-size: 10px;">‚úì</span>';
            btn.style.backgroundColor = '#22c55e';
            btn.style.color = 'white';

            setTimeout(() => {
              btn.innerHTML = originalText;
              btn.style.backgroundColor = 'transparent';
              btn.style.color = '#64748b';
            }, 1500);

            showToast('üìã Lien copi√© !', 'success');
          } catch (err) {
            console.warn('Copie √©chou√©e:', err);
            showToast('‚ùå Impossible de copier le lien', 'error');
          } finally {
            document.body.removeChild(textarea);
          }
        }
      }
      
    } catch (error) {
      console.warn('Interaction √©chou√©e:', error);

      // Feedback visuel d'erreur
      if (type === 'like') {
        showToast('‚ùå Impossible d\'aimer cet article pour le moment', 'error');
      } else if (type === 'share') {
        showToast('‚ùå Impossible de partager cet article pour le moment', 'error');
      }

      // Incr√©menter quand m√™me le compteur localement en cas d'erreur r√©seau
      const currentCount = parseInt(counter.textContent);
      counter.textContent = currentCount + 1;

    } finally {
      btn.style.opacity = '1';
      btn.disabled = false;
    }
  }
  
  async function recordView(articleId) {
    try {
      await callPixelRiseAPI('/interactions/view', 'POST', {
        post_type: 'blog',
        post_id: parseInt(articleId)
      });
    } catch (error) {
      console.debug('Vue non enregistr√©e:', error);
    }
  }
  
  window.handleReaction = function(articleId, type, btn, counter) {
    handleRealInteraction(articleId, type, btn, counter);
  };
  
  window.redirectToArticle = function(slug) {
    redirectToArticle(slug);
  };

  // ‚úÖ FONCTION TOAST NOTIFICATION
  function showToast(message, type = 'success') {
    const existingToast = document.getElementById('pixel-rise-toast');
    if (existingToast) {
      existingToast.remove();
    }

    const toast = document.createElement('div');
    toast.id = 'pixel-rise-toast';
    toast.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' +
      (type === 'success' ? '#22c55e' : '#ef4444') +
      '; color: white; padding: 12px 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 9999; font-size: 14px; font-weight: 500; animation: slideIn 0.3s ease-out;';
    toast.textContent = message;

    // Ajout de l'animation CSS
    const style = document.createElement('style');
    style.textContent = '@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }';
    document.head.appendChild(style);

    document.body.appendChild(toast);

    setTimeout(() => {
      toast.style.opacity = '0';
      toast.style.transform = 'translateX(100%)';
      toast.style.transition = 'all 0.3s ease-out';
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }

  // ‚úÖ FONCTIONS PAGINATION
  function createPaginationButton(text, page, isActive = false, isDisabled = false) {
    const btn = document.createElement('button');
    btn.textContent = text;
    btn.style.cssText = 'padding: 8px 12px; border: 1px solid #e2e8f0; background: ' + 
      (isActive ? '#3b82f6' : 'white') + '; color: ' + 
      (isActive ? 'white' : (isDisabled ? '#94a3b8' : '#374151')) + 
      '; border-radius: 6px; font-size: 14px; cursor: ' + 
      (isDisabled ? 'not-allowed' : 'pointer') + 
      '; transition: all 0.2s; min-width: 40px;';
    
    if (!isDisabled) {
      btn.onmouseover = function() {
        if (!isActive) {
          this.style.backgroundColor = '#f1f5f9';
          this.style.borderColor = '#3b82f6';
        }
      };
      btn.onmouseout = function() {
        if (!isActive) {
          this.style.backgroundColor = 'white';
          this.style.borderColor = '#e2e8f0';
        }
      };
      btn.onclick = function() {
        if (page !== currentPage) {
          loadPage(page);
        }
      };
    }
    
    return btn;
  }

  function updatePagination(pagination) {
    paginationContainer.innerHTML = '';
    
    if (pagination.last_page <= 1) {
      paginationContainer.style.display = 'none';
      return;
    }
    
    paginationContainer.style.display = 'flex';
    currentPage = pagination.current_page;
    lastPage = pagination.last_page;
    
    // Bouton Pr√©c√©dent
    const prevBtn = createPaginationButton('‚Äπ Pr√©c√©dent', currentPage - 1, false, currentPage <= 1);
    paginationContainer.appendChild(prevBtn);
    
    // Pages num√©riques
    let startPage = Math.max(1, currentPage - 2);
    let endPage = Math.min(lastPage, currentPage + 2);
    
    // Ajuster la plage si n√©cessaire
    if (endPage - startPage < 4) {
      if (startPage === 1) {
        endPage = Math.min(lastPage, startPage + 4);
      } else if (endPage === lastPage) {
        startPage = Math.max(1, endPage - 4);
      }
    }
    
    // Page 1 si elle n'est pas dans la plage
    if (startPage > 1) {
      paginationContainer.appendChild(createPaginationButton('1', 1));
      if (startPage > 2) {
        const dots = document.createElement('span');
        dots.textContent = '...';
        dots.style.cssText = 'padding: 8px 4px; color: #94a3b8;';
        paginationContainer.appendChild(dots);
      }
    }
    
    // Pages dans la plage
    for (let i = startPage; i <= endPage; i++) {
      paginationContainer.appendChild(createPaginationButton(i.toString(), i, i === currentPage));
    }
    
    // Derni√®re page si elle n'est pas dans la plage
    if (endPage < lastPage) {
      if (endPage < lastPage - 1) {
        const dots = document.createElement('span');
        dots.textContent = '...';
        dots.style.cssText = 'padding: 8px 4px; color: #94a3b8;';
        paginationContainer.appendChild(dots);
      }
      paginationContainer.appendChild(createPaginationButton(lastPage.toString(), lastPage));
    }
    
    // Bouton Suivant
    const nextBtn = createPaginationButton('Suivant ‚Ä∫', currentPage + 1, false, currentPage >= lastPage);
    paginationContainer.appendChild(nextBtn);
    
    // Indicateur de position
    const info = document.createElement('div');
    info.style.cssText = 'margin-left: 16px; color: #64748b; font-size: 14px; padding: 8px 0;';
    info.textContent = 'Page ' + currentPage + ' sur ' + lastPage + ' (' + pagination.total + ' articles)';
    paginationContainer.appendChild(info);
  }
  
  function renderArticles(articles) {
    return articles.map(article => {
          const safeTitle = article.title.replace(/'/g, "&#39;").replace(/"/g, "&quot;");
          const safeExcerpt = article.excerpt.replace(/'/g, "&#39;").replace(/"/g, "&quot;");
          const articleSlug = article.slug || article.title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
          
          setTimeout(() => recordView(article.id), 1000);
          
          return '<article style="width: 350px; min-height: 480px; border: 1px solid #e2e8f0; border-radius: 12px; background: white; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; display: flex; flex-direction: column;" onmouseover="this.style.transform=\'translateY(-4px)\'; this.style.boxShadow=\'0 8px 25px rgba(0,0,0,0.15)\';" onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\';">' +
            (article.image ? 
              '<div style="width: 100%; height: 200px; overflow: hidden;"><img src="' + article.image + '" style="width: 100%; height: 100%; object-fit: cover;" alt="' + safeTitle + '"></div>' :
              '<div style="width: 100%; height: 200px; background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);"></div>'
            ) +
            '<div style="padding: 20px; flex: 1; display: flex; flex-direction: column;">' +
              '<h3 style="margin: 0 0 12px 0; color: #0f172a; font-size: 16px; font-weight: bold; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; min-height: 48px;">' + safeTitle + '</h3>' +
              '<p style="margin: 0 0 16px 0; color: #64748b; font-size: 14px; line-height: 1.6; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; flex: 1; min-height: 67px;">' + safeExcerpt + '</p>' +
              '<div style="border-top: 1px solid #f1f5f9; padding-top: 16px; margin-top: auto;">' +
                
                '<!-- ‚úÖ STATISTIQUES ET INTERACTIONS SIMPLIFI√âES -->' +
                '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">' +
                  '<div style="display: flex; gap: 12px; color: #94a3b8; font-size: 12px;">' +
                    '<span style="display: flex; align-items: center; gap: 4px;">' + icons.eye + ' ' + article.stats.views + '</span>' +
                    '<!-- ‚úÖ NOUVEAU : Commentaires cliquables pour redirection -->' +
                    '<button onclick="redirectToArticle(\''+articleSlug+'\')" style="display: flex; align-items: center; gap: 4px; background: none; border: none; color: #94a3b8; font-size: 12px; cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: all 0.3s;" onmouseover="this.style.backgroundColor=\'#f0f9ff\'; this.style.color=\'#3b82f6\';" onmouseout="this.style.backgroundColor=\'transparent\'; this.style.color=\'#94a3b8\';" title="Voir les commentaires">' +
                      icons.message + ' ' + article.stats.comments +
                    '</button>' +
                  '</div>' +
                  '<div style="display: flex; gap: 8px; align-items: center;">' +
                    '<button onclick="handleReaction(' + article.id + ', \'like\', this, this.nextElementSibling)" style="background: none; border: none; cursor: pointer; padding: 4px; border-radius: 4px; color: #64748b; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor=\'#fef2f2\'; this.style.color=\'#ef4444\';" onmouseout="this.style.backgroundColor=\'transparent\'; this.style.color=\'#64748b\';">' + icons.heart + '</button>' +
                    '<span style="font-size: 12px; color: #94a3b8; min-width: 16px;">' + article.stats.likes + '</span>' +
                    '<button onclick="handleReaction(' + article.id + ', \'share\', this, this.nextElementSibling)" style="background: none; border: none; cursor: pointer; padding: 4px; border-radius: 4px; color: #64748b; transition: all 0.3s ease;" onmouseover="this.style.backgroundColor=\'#f0fdf4\'; this.style.color=\'#16a34a\';" onmouseout="this.style.backgroundColor=\'transparent\'; this.style.color=\'#64748b\';">' + icons.share + '</button>' +
                    '<span style="font-size: 12px; color: #94a3b8; min-width: 16px;">' + article.stats.shares + '</span>' +
                  '</div>' +
                '</div>' +
                
                '<!-- ‚úÖ BOUTON PRINCIPAL UNIQUE : Lire la suite -->' +
                '<a href="' + articleBaseUrl + '/' + articleSlug + '" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; padding: 12px 16px; text-decoration: none; border-radius: 8px; font-size: 14px; font-weight: 600; display: block; text-align: center; transition: all 0.3s ease;" onmouseover="this.style.transform=\'translateY(-1px)\';" onmouseout="this.style.transform=\'translateY(0)\';">Lire la suite ‚Üí</a>' +
              '</div>' +
            '</div>' +
          '</article>';
    }).join('');
  }

  function loadPage(page) {
    if (isLoading) return;
    
    isLoading = true;
    currentPage = page;
    
    // ‚úÖ Indicateur de chargement
    articlesGrid.style.opacity = '0.6';
    articlesGrid.style.pointerEvents = 'none';
    
    fetch(apiUrl + '/embed/blogs?client_id=' + clientId + '&page=' + page + '&per_page=' + perPage)
      .then(response => response.json())
      .then(data => {
        if (data.success && data.data.articles.length > 0) {
          articlesGrid.innerHTML = renderArticles(data.data.articles);
          if (data.data.pagination) {
            updatePagination(data.data.pagination);
          }
          
          // ‚úÖ Scroll vers le haut des articles
          container.scrollIntoView({ behavior: 'smooth', block: 'start' });
          
        } else {
          articlesGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #64748b; padding: 40px;"><p>Aucun article disponible pour cette page.</p></div>';
        }
      })
      .catch(error => {
        articlesGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #ef4444; padding: 40px;"><p>Erreur lors du chargement des articles.</p></div>';
      })
      .finally(() => {
        articlesGrid.style.opacity = '1';
        articlesGrid.style.pointerEvents = 'auto';
        isLoading = false;
      });
  }

  // ‚úÖ CHARGEMENT INITIAL
  fetch(apiUrl + '/embed/blogs?client_id=' + clientId + '&page=1&per_page=' + perPage)
    .then(response => response.json())
    .then(data => {
      if (data.success && data.data.articles.length > 0) {
        articlesGrid.innerHTML = renderArticles(data.data.articles);
        if (data.data.pagination) {
          updatePagination(data.data.pagination);
        }
        
      } else {
        articlesGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #64748b; padding: 40px;"><p>Aucun article disponible pour le moment.</p></div>';
      }
    })
    .catch(error => {
      articlesGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #ef4444; padding: 40px;"><p>Erreur lors du chargement des articles.</p></div>';
    });
  
  // ‚úÖ ASSEMBLAGE DU CONTAINER
  if (!document.getElementById('pixel-rise-blog-container')) {
    container.appendChild(articlesGrid);
    container.appendChild(paginationContainer);
    document.body.appendChild(container);
  }
})();
</script>
         

                    </div>
                </div>
            </div>            
        </div>
    </section>

    <!-- Bloc 3 -->
    <section class="bg-white">
        <div class="container">
            <div class="row align-items-center py-5">
                <!-- Illustration -->
                <div class="col-lg-6 text-center">
                    <img src="assets/images/subscribe-thumb.png" alt="Newsletter Illustration" class="img-fluid" style="max-width: auto;">
                </div>
            
                <!-- Texte et Formulaire -->
                <div class="col-lg-6">
                    <h6 class="text-primary fw-bold mt-4">RESTONS CONNECT√âS</h6>
                    <h2 class="fw-bold mb-4" style="color: #2c2c6c;">Abonnez-vous √† notre Newsletter</h2>
                    <form class="d-flex mb-3">
                        <input type="email" class="form-control me-2" placeholder="Entrez votre email" required>
                        <button class="btn btn-danger px-4" type="submit">Envoyer</button>
                    </form>
                    <p class="text-muted">
                        Le marketing digital est une composante du marketing qui utilise Internet et les technologies num√©riques pour promouvoir des produits et services.
                    </p>
                </div>
            </div>            
        </div>
    </section>


   
    <!--Footer -->
    <footer class="bg-white text-dark pt-5 border-top">
      <div class="container">
        <div class="row text-center text-md-start">
          <!-- Logo et Description -->
          <div class="col-lg-6 col-md-6 mb-4">
            <img
              src="assets/images/logo.png"
              alt="Agence Logo"
              width="150"
              class="d-block mx-auto mx-md-0 mb-3"
            />
            <p class="small">
                Une agence digitale aide les entreprises √† renforcer leur pr√©sence en ligne en offrant des services de marketing, conception web, r√©seaux sociaux, r√©f√©rencement SEO et solutions num√©riques innovantes.
            </p>
          </div>
          <!-- Section Page -->
          <div class="col-lg-3 col-md-6 mb-4">
            <h5 class="fw-bold">Page</h5>
            <ul class="list-unstyled">
              <li>
                <a href="index.html" class="text-dark text-decoration-none"
                  >Accueil</a
                >
              </li>
              <li>
                <a href="apropos.html" class="text-dark text-decoration-none"
                  >A propos</a
                >
              </li>
              <li>
                <a href="services.html" class="text-dark text-decoration-none"
                  >Services</a
                >
              </li>
              <li>
                <a href="blog.html" class="text-dark text-decoration-none"
                  >Blog</a
                >
              </li>
              <li>
                <a href="contact.html" class="text-dark text-decoration-none"
                  >Contact</a
                >
              </li>
            </ul>
          </div>
          <!-- Section Contact -->
          <div class="col-lg-3 col-md-6 mb-4 text-center text-md-start">
            <h5 class="fw-bold">Contact</h5>
            <p class="small mb-1 d-flex align-items-center justify-content-center justify-content-md-start mb-3">
              <i class="fas fa-map-marker-alt me-2"></i> 
              Hell-Ville, Nosy-Be, DIANA, MADAGASCAR
            </p>
            <p class="small mb-1 d-flex align-items-center justify-content-center justify-content-md-start mb-3">
              <i class="fas fa-envelope me-2"></i>
              <a href="mailto:info@islandmanager.com" class="text-decoration-none text-reset">
                info@islandmanager.com
              </a>
            </p>
            <p class="small d-flex align-items-center justify-content-center justify-content-md-start mb-3">
              <i class="fas fa-phone-alt me-2"></i>
              <a href="tel:+2613200000000" class="text-decoration-none text-reset">
                +261 (32) 00 000 00
              </a>
            </p>
          </div> 
        </div>
      </div>
      <!-- Copyright Section -->
      <div class="bg-white text-center py-3 border-top">
        <p class="mb-0 small">
          Copyright ¬©
          <a href="#" class="text-decoration-none"> Island Managager</a> 2024 ||
          Tous droits r√©serv√©s
        </p>
      </div>
    </footer>

    <!-- JavaScript de Bootstrap -->
    <script src="assets/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
